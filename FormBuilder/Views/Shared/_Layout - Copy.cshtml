<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title - My ASP.NET Application</title>
    @*@Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")*@

    @*form io links*@
    <link rel="stylesheet" href="https://cdn.rawgit.com/odra/ng-json-explorer/master/dist/angular-json-explorer.min.css">
    <link rel="stylesheet" href="https://unpkg.com/bootswatch@3.3.7/yeti/bootstrap.min.css" />
    <link rel="stylesheet" href="~/Content/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
    <link rel="stylesheet" href="~/Content/css/ngFormBuilder-full.css" />
    @*<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" />*@
    @*//end//*@

</head>
<body>
    <div class="navbar navbar-inverse">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                @Html.ActionLink("Application name", "Index", "Home", new { area = "" }, new { @class = "navbar-brand" })
            </div>
            <div class="navbar-collapse collapse">
                <ul class="nav navbar-nav">
                    <li>@Html.ActionLink("Home", "Index", "Home")</li>
                    <li>@Html.ActionLink("About", "About", "Home")</li>
                    <li>@Html.ActionLink("Contact", "Contact", "Home")</li>
                </ul>
                @Html.Partial("_LoginPartial")
            </div>
        </div>
    </div>
    <div class="container body-content">
        @RenderBody()
        <hr />
        <footer>
            <p>&copy; @DateTime.Now.Year - My ASP.NET Application</p>
        </footer>
    </div>

    @Scripts.Render("~/bundles/jquery")
    @*@Scripts.Render("~/bundles/bootstrap")*@
    @RenderSection("scripts", required: false)

    @*//formio script start*@

    <script src="https://cdn.ckeditor.com/4.5.11/standard/ckeditor.js"></script>
    <script src="https://unpkg.com/signature_pad@1.5.3/signature_pad.min.js"></script>
    <script src="/Content/js/ngFormBuilder-full.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.4/lodash.min.js"></script>
    <script src="https://cdn.rawgit.com/odra/ng-json-explorer/master/dist/angular-json-explorer.min.js"></script>
    <script type="text/javascript">

        $(document).ready(function () {
            angular
                .module("formBuilder", ["ui.bootstrap", "ui.select", "formio", "ngFormBuilder", "ngJsonExplorer"])
                .run([
                    "$rootScope",
                    'formioComponents',
                    '$timeout',
                    function (
                        $rootScope,
                        formioComponents,
                        $timeout
                    ) {
                        $rootScope.displays = [{
                            name: 'form',
                            title: 'Form'
                        }, {
                            name: 'wizard',
                            title: 'Wizard'
                        }];
                        $rootScope.form = {
                            components: [{
                                input: true,
                                tableView: true,
                                inputType: 'text',
                                inputMask: '',
                                label: 'First Name',
                                key: 'firstName',
                                placeholder: 'Enter your first name',
                                prefix: '',
                                suffix: '',
                                multiple: false,
                                defaultValue: '',
                                protected: false,
                                unique: false,
                                persistent: true,
                                validate: {
                                    required: false,
                                    minLength: '',
                                    maxLength: '',
                                    pattern: '',
                                    custom: '',
                                    customPrivate: false
                                },
                                conditional: {
                                    show: false,
                                    when: null,
                                    eq: ''
                                },
                                type: 'textfield'
                            }, {
                                input: true,
                                tableView: true,
                                inputType: 'text',
                                inputMask: '',
                                label: 'Last Name',
                                key: 'lastName',
                                placeholder: 'Enter your last name',
                                prefix: '',
                                suffix: '',
                                multiple: false,
                                defaultValue: '',
                                protected: false,
                                unique: false,
                                persistent: true,
                                validate: {
                                    required: false,
                                    minLength: '',
                                    maxLength: '',
                                    pattern: '',
                                    custom: '',
                                    customPrivate: false
                                },
                                conditional: {
                                    show: false,
                                    when: null,
                                    eq: ''
                                },
                                type: 'textfield'
                            }, {
                                type: 'select',
                                validate: {
                                    required: false
                                },
                                clearOnHide: true,
                                persistent: true,
                                unique: false,
                                protected: false,
                                multiple: true,
                                template: '<span>{{ item.label }}</span>',
                                authenticate: false,
                                filter: '',
                                refreshOn: '',
                                defaultValue: '',
                                valueProperty: '',
                                dataSrc: 'values',
                                data: {
                                    custom: '',
                                    resource: '',
                                    url: '',
                                    json: '',
                                    values: [
                                        {
                                            label: 'Raindrops on roses',
                                            value: 'raindropsOnRoses'
                                        },
                                        {
                                            label: 'Whiskers on Kittens',
                                            value: 'whiskersOnKittens'
                                        },
                                        {
                                            label: 'Bright copper kettles',
                                            value: 'brightCopperKettles'
                                        },
                                        {
                                            label: 'Warm woolen Mittens',
                                            value: 'warmWoolenMittens'
                                        },
                                        [

                                        ]
                                    ]
                                },
                                placeholder: 'Select a few',
                                key: 'favoriteThings',
                                label: 'Favorite Things',
                                tableView: true,
                                input: true
                            }, {
                                input: true,
                                tableView: true,
                                label: 'Message',
                                key: 'message',
                                placeholder: 'What do you think?',
                                prefix: '',
                                suffix: '',
                                rows: 3,
                                multiple: false,
                                defaultValue: '',
                                protected: false,
                                persistent: true,
                                validate: {
                                    required: false,
                                    minLength: '',
                                    maxLength: '',
                                    pattern: '',
                                    custom: ''
                                },
                                type: 'textarea',
                                conditional: {
                                    show: false,
                                    when: null,
                                    eq: ''
                                }
                            }, {
                                type: 'button',
                                theme: 'primary',
                                disableOnInvalid: true,
                                action: 'submit',
                                block: false,
                                rightIcon: '',
                                leftIcon: '',
                                size: 'md',
                                key: 'submit',
                                tableView: false,
                                label: 'Submit',
                                input: true
                            }],
                            display: 'form'
                        };

                        $rootScope.renderForm = true;
                        $rootScope.$on('formUpdate', function (event, form) {
                            angular.merge($rootScope.form, form);
                            $rootScope.renderForm = false;
                            setTimeout(function () {
                                $rootScope.renderForm = true;
                            }, 10);
                        });

                        var originalComps = _.cloneDeep($rootScope.form.components);
                        $rootScope.jsonCollapsed = true;
                        $timeout(function () {
                            $rootScope.jsonCollapsed = false;
                        }, 200);
                        var currentDisplay = 'form';
                        $rootScope.$watch('form.display', function (display) {
                            if (display && (display !== currentDisplay)) {
                                currentDisplay = display;
                                if (display === 'form') {
                                    $rootScope.form.components = originalComps;
                                } else {
                                    $rootScope.form.components = [{
                                        type: 'panel',
                                        input: false,
                                        title: 'Page 1',
                                        theme: 'default',
                                        components: originalComps
                                    }];
                                }
                            }
                        });
                    }
                ]);
        });

        
  
    </script>

    @*//end*@

</body>
</html>
